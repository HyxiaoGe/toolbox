# 更新日志

所有此项目的重要更改将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且此项目遵循 [语义化版本](https://semver.org/lang/zh-CN/spec/v2.0.0.html)。

## [0.2.0] - 2025-05-24

### 新增
- **查找重复文件工具 (功能大幅升级)**:
    - 更准确地找出重复文件，特别是视频。
    - 重复文件会显示明确的"重复等级"（如：确定重复、高度相似等）和相似度评分。
    - 提升了图片内容相似度比较的准确性。
    - 查找媒体文件信息更方便，程序能自动寻找所需工具（FFprobe）。
    - 查找时能看到实时进度和详细日志。
    - 可以随时停止正在进行的查找操作。
    - 查找结果更清晰：重复文件会分组显示，每组都能直观看到重复等级、判断理由和组内各文件的详细信息（文件名、路径、大小、影音时长等）。
    - 选中某个重复文件组时，下方会显示该组详细的重复判断说明。
    - 程序能记住上次设置的影音工具（FFprobe）路径。
    - 结果列表可以点击表头排序（例如按重复等级、文件数量、大小或时长）。
    - 调整了几个按钮和输入框的界面，看起来更舒服。
    - 结果列表中的不同重复文件组增加了背景色，更容易区分。
    - 修复了之前版本中，查找完成后结果列表可能不显示，以及选择某些结果时出错的问题。

### 变更
- **文件夹大小分析工具**: 更换文件夹路径时清空旧日志。
- **视频时长统计工具**: 日志记录方法统一，支持 `is_error` 参数。

### 修复
- (在此处填写此版本修复的BUG) 

## [未发布]

### 新增
- **通用配置管理**:
    - 创建 `gui_app/config_manager.py` 模块，用于加载和保存JSON格式的用户配置。
    - 配置文件保存在用户主目录的 `.ToolboxApp/toolbox_config.json`。
- **视频时长统计工具**:
    - 集成配置管理，实现 FFprobe 路径的保存和加载。
    - 增强 FFprobe 路径验证，通过尝试运行 `ffprobe -version`。
    - 添加不确定模式进度条，用于指示正在进行的统计操作。
    - 日志消息添加时间戳。
- **查找重复文件工具**:
    - 集成配置管理，实现上次扫描文件夹路径和重复文件存放子目录名称的保存与加载。
    - 为结果列表添加列排序功能 (按哈希、数量、文件列表)。
    - 日志消息添加时间戳。
- **文件夹大小分析工具**:
    - 集成配置管理，实现上次分析文件夹路径的保存与加载。
    - 为结果列表添加列排序功能 (按名称、大小、状态)。
    - 添加不确定模式进度条，用于指示正在进行的分析操作。
    - 日志消息添加时间戳和优化间距。
- **版本信息**:
    - 在项目根目录创建 `version.py` 存储版本、作者等信息。
    - 主窗口标题显示应用名称和版本号。

### 变更
- **文件夹大小分析工具**: 更换文件夹路径时清空旧日志。
- **视频时长统计工具**: 日志记录方法统一，支持 `is_error` 参数。

### 修复
- (在此处填写此版本修复的BUG) 

## [0.1.0] - 2025-05-18

### 新增
- **通用设置**: 
    - 应用能记住一些常用设置了（例如某些工具上次使用的路径）。
- **视频时长统计工具**:
    - 能保存和加载用户指定的影音工具（FFprobe）路径，并会检查路径是否可用。
    - 操作时会显示进度，日志也更清晰了。
- **查找重复文件工具 (旧版)**: 
    - 能记住上次从哪个文件夹查找，以及重复文件要存到哪个目录。
    - 查找结果可以点击表头排序。
    - 日志显示优化。
- **文件夹大小分析工具**:
    - 能记住上次分析的文件夹是哪个。
    - 分析结果可以点击表头排序。
    - 操作时会显示进度，日志也更清晰了。
- **版本信息显示**:
    - 可以在主窗口标题栏看到当前应用名和版本号。

### 变更
- **文件夹大小分析工具**: 换一个文件夹分析时，会自动清掉上次的日志。
- **视频时长统计工具**: 日志记录方式更统一了。

### 修复
- (在此处填写0.1.0版本修复的BUG) 